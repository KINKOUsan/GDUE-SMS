# GDUE-SMS 学生管理系统技术架构文档

## 1. 系统架构概述

### 1.1 架构模式
GDUE-SMS采用前后端分离的架构模式，将系统分为前端应用和后端服务两个独立部分，通过RESTful API进行通信。

### 1.2 架构图
```
┌─────────────────────────────────────────────────────────┐
│                        用户浏览器                         │
└────────────────────┬────────────────────────────────────┘
                     │ HTTP/HTTPS
                     ▼
┌─────────────────────────────────────────────────────────┐
│                    前端应用 (Vue 3)                      │
│  ┌─────────────────────────────────────────────────┐   │
│  │  - Vue 3.2.38 (响应式框架)                       │   │
│  │  - Vue Router 4.1.5 (路由管理)                  │   │
│  │  - Element Plus 2.4.4 (UI组件库)                │   │
│  │  - Axios 1.7.2 (HTTP客户端)                     │   │
│  └─────────────────────────────────────────────────┘   │
└────────────────────┬────────────────────────────────────┘
                     │ RESTful API
                     ▼
┌─────────────────────────────────────────────────────────┐
│              后端服务 (Spring Boot 3.5.9)                │
│  ┌─────────────────────────────────────────────────┐   │
│  │  Controller层 (接口层)                          │   │
│  │  - StudentController                            │   │
│  │  - MajorController                              │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  Service层 (业务逻辑层)                         │   │
│  │  - StudentService                               │   │
│  │  - MajorService                                 │   │
│  ├─────────────────────────────────────────────────┤   │
│  │  Mapper层 (数据访问层)                          │   │
│  │  - StudentMapper                                │   │
│  │  - MajorMapper                                  │   │
│  └─────────────────────────────────────────────────┘   │
└────────────────────┬────────────────────────────────────┘
                     │ JDBC
                     ▼
┌─────────────────────────────────────────────────────────┐
│              MySQL 数据库 (student_management)           │
│  ┌─────────────────────────────────────────────────┐   │
│  │  - students (学生表)                            │   │
│  │  - majors (专业表)                              │   │
│  └─────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

---

## 2. 技术栈选型

### 2.1 前端技术栈

| 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|
| Vue.js | 3.2.38 | 前端框架 | 渐进式JavaScript框架，提供响应式数据绑定 |
| Vue Router | 4.1.5 | 路由管理 | 官方路由管理器，实现单页面应用导航 |
| Element Plus | 2.4.4 | UI组件库 | 基于Vue 3的组件库，提供丰富的UI组件 |
| Axios | 1.7.2 | HTTP客户端 | Promise based HTTP客户端，用于API请求 |
| Vite | 7.2.4 | 构建工具 | 下一代前端构建工具，提供快速的开发体验 |
| @element-plus/icons-vue | 2.3.1 | 图标库 | Element Plus官方图标组件 |

### 2.2 后端技术栈

| 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|
| Java | 25 | 编程语言 | 项目开发语言 |
| Spring Boot | 3.5.9 | 应用框架 | 简化Spring应用开发的框架 |
| Spring Web | - | Web模块 | 提供RESTful API支持 |
| MyBatis | 3.0.5 | 持久层框架 | 半自动ORM框架，简化数据库操作 |
| MyBatis Spring Boot Starter | 3.0.5 | 集成组件 | Spring Boot与MyBatis的集成 |
| PageHelper | 1.4.7 | 分页插件 | MyBatis物理分页插件 |
| Lombok | - | 代码简化 | 通过注解简化Java代码 |
| MySQL Connector/J | - | 数据库驱动 | MySQL官方JDBC驱动 |

### 2.3 开发工具

| 工具 | 用途 |
|------|------|
| Maven | 项目构建和依赖管理 |
| Node.js | JavaScript运行环境 |
| npm | 前端包管理工具 |
| Vite | 前端开发服务器和构建工具 |

---

## 3. 数据库设计

### 3.1 数据库信息
- **数据库名称**: student_management
- **字符集**: UTF-8
- **排序规则**: utf8_general_ci

### 3.2 数据表设计

#### 3.2.1 专业表 (majors)

| 字段名 | 类型 | 长度 | 允许NULL | 键 | 说明 |
|--------|------|------|----------|-----|------|
| id | BIGINT | - | NO | PRIMARY | 主键，自增 |
| name | VARCHAR | 50 | NO | - | 专业名称 |

**索引设计**:
- PRIMARY KEY: id

**SQL建表语句**:
```sql
CREATE TABLE majors (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL COMMENT '专业名称'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='专业表';
```

#### 3.2.2 学生表 (students)

| 字段名 | 类型 | 长度 | 允许NULL | 键 | 说明 |
|--------|------|------|----------|-----|------|
| id | INT | - | NO | PRIMARY | 主键，自增 |
| name | VARCHAR | 50 | NO | - | 学生姓名 |
| student_id | VARCHAR | 20 | NO | - | 学号 |
| gender | VARCHAR | 10 | NO | - | 性别（男/女） |
| age | INT | - | NO | - | 年龄 |
| major_id | BIGINT | - | NO | FOREIGN | 专业ID，关联majors表 |
| score | DOUBLE | - | NO | - | 分数 |

**索引设计**:
- PRIMARY KEY: id
- INDEX: major_id (外键索引)

**SQL建表语句**:
```sql
CREATE TABLE students (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL COMMENT '学生姓名',
    student_id VARCHAR(20) NOT NULL COMMENT '学号',
    gender VARCHAR(10) NOT NULL COMMENT '性别',
    age INT NOT NULL COMMENT '年龄',
    major_id BIGINT NOT NULL COMMENT '专业ID',
    score DOUBLE NOT NULL COMMENT '分数',
    FOREIGN KEY (major_id) REFERENCES majors(id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='学生表';
```

### 3.3 ER图
```
┌──────────────┐         ┌──────────────┐
│    majors    │         │   students   │
├──────────────┤         ├──────────────┤
│ id (PK)      │◄────────│ major_id (FK)│
│ name         │         │ id (PK)      │
└──────────────┘         │ name         │
                         │ student_id   │
                         │ gender       │
                         │ age          │
                         │ score        │
                         └──────────────┘
```

---

## 4. 项目目录结构

### 4.1 后端项目结构 (SMSBackend)

```
SMSBackend/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/
│   │   │       └── kinkou/
│   │   │           ├── controller/          # 控制器层
│   │   │           │   ├── MajorController.java
│   │   │           │   └── StudentController.java
│   │   │           ├── service/             # 服务层
│   │   │           │   ├── MajorService.java
│   │   │           │   ├── StudentService.java
│   │   │           │   └── impl/
│   │   │           │       ├── MajorServiceImpl.java
│   │   │           │       └── StudentServiceImpl.java
│   │   │           ├── mapper/              # 数据访问层
│   │   │           │   ├── MajorMapper.java
│   │   │           │   └── StudentMapper.java
│   │   │           ├── pojo/                # 实体类和DTO
│   │   │           │   ├── Major.java
│   │   │           │   ├── MajorQueryParam.java
│   │   │           │   ├── PageResult.java
│   │   │           │   ├── Result.java
│   │   │           │   ├── Student.java
│   │   │           │   └── StudentQueryParam.java
│   │   │           └── SmsBackendApplication.java  # 启动类
│   │   └── resources/
│   │       ├── com/
│   │       │   └── kinkou/
│   │       │       └── mapper/
│   │       │           ├── MajorMapper.xml
│   │       │           └── StudentMapper.xml
│   │       └── application.yml           # 配置文件
│   └── test/                             # 测试目录
│       └── java/
│           └── com/
│               └── kinkou/
│                   └── SmsBackendApplicationTests.java
├── .gitignore
├── mvnw                                # Maven Wrapper
├── mvnw.cmd
└── pom.xml                             # Maven配置文件
```

### 4.2 前端项目结构 (smsfrontend)

```
smsfrontend/
├── public/                             # 静态资源
│   ├── cover.jpg
│   └── human-resources.png
├── src/
│   ├── api/                            # API接口封装
│   │   ├── major.js
│   │   └── student.js
│   ├── assets/                         # 资源文件
│   │   ├── base.css
│   │   ├── logo.svg
│   │   └── main.css
│   ├── components/                     # 公共组件
│   │   ├── icons/
│   │   ├── HelloWorld.vue
│   │   ├── TheWelcome.vue
│   │   └── WelcomeItem.vue
│   ├── router/                         # 路由配置
│   │   └── index.js
│   ├── utils/                          # 工具类
│   │   └── request.js
│   ├── views/                          # 页面组件
│   │   ├── index/
│   │   │   └── index.vue
│   │   ├── layout/
│   │   │   └── index.vue
│   │   ├── major/
│   │   │   └── index.vue
│   │   └── student/
│   │       └── index.vue
│   ├── App.vue                         # 根组件
│   └── main.js                         # 入口文件
├── .gitignore
├── index.html
├── jsconfig.json
├── package.json                        # 项目配置
├── package-lock.json
└── vite.config.js                      # Vite配置
```

---

## 5. 核心技术实现

### 5.1 分层架构设计

#### 5.1.1 Controller层（控制器层）
- **职责**: 接收HTTP请求，参数校验，调用Service层，返回响应结果
- **技术**: Spring MVC注解（@RestController, @RequestMapping, @GetMapping等）
- **特点**: 统一返回Result对象，包含code、msg、data字段

#### 5.1.2 Service层（业务逻辑层）
- **职责**: 实现业务逻辑，事务管理，调用Mapper层
- **技术**: Spring依赖注入（@Autowired），接口与实现类分离
- **特点**: 接口定义规范，实现类包含具体业务逻辑

#### 5.1.3 Mapper层（数据访问层）
- **职责**: 数据库操作，SQL映射
- **技术**: MyBatis注解和XML映射文件
- **特点**: 使用PageHelper实现物理分页

### 5.2 分页实现

#### 5.2.1 后端分页
- 使用PageHelper插件实现物理分页
- 分页参数：page（页码）、pageSize（每页记录数）
- 返回PageResult对象，包含total（总记录数）和rows（当前页数据）

#### 5.2.2 前端分页
- 使用Element Plus的el-pagination组件
- 支持自定义每页显示数量
- 支持跳转到指定页码
- 分页变化时自动重新查询数据

### 5.3 前后端通信

#### 5.3.1 API设计规范
- 遵循RESTful设计风格
- 使用HTTP方法：GET（查询）、POST（新增）、PUT（修改）、DELETE（删除）
- 统一响应格式：Result对象

#### 5.3.2 请求拦截器
- 配置请求拦截器，统一添加baseURL
- 设置超时时间：600秒
- 支持跨域请求

#### 5.3.3 响应拦截器
- 统一处理响应数据
- 错误处理和提示
- 使用Element Plus的ElMessage组件显示提示信息

### 5.4 前端路由

#### 5.4.1 路由配置
- 使用Vue Router管理路由
- 采用Hash模式或History模式
- 路由配置：
  - `/index`: 首页
  - `/major`: 专业管理
  - `/student`: 学生管理

#### 5.4.2 路由守卫
- 可扩展登录验证
- 可扩展权限控制

### 5.5 表单验证

#### 5.5.1 前端验证
- 使用Element Plus的表单验证规则
- 必填项验证
- 数据类型验证
- 数值范围验证

#### 5.5.2 后端验证
- 可扩展使用@Valid注解
- 可扩展使用Validation API

### 5.6 数据库连接配置

#### 5.6.1 数据源配置
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/student_management
    username: root
    password: 114514
    driver-class-name: com.mysql.cj.jdbc.Driver
```

#### 5.6.2 MyBatis配置
```yaml
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.example.studentsmanagement.entity
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    map-underscore-to-camel-case: true
```

---

## 6. 关键业务流程

### 6.1 学生查询流程
```
前端 → 输入查询条件 → 调用queryPageApi → 
后端Controller → Service → Mapper → 
数据库查询 → PageHelper分页 → 
返回PageResult → 前端展示
```

### 6.2 学生新增流程
```
前端 → 打开对话框 → 填写表单 → 表单验证 → 
调用addApi → 后端Controller → Service → 
Mapper → 插入数据库 → 返回Result → 
前端刷新列表
```

### 6.3 学生修改流程
```
前端 → 点击编辑 → 调用queryByIdApi → 
回显数据 → 修改表单 → 表单验证 → 
调用updateApi → 后端Controller → Service → 
Mapper → 更新数据库 → 返回Result → 
前端刷新列表
```

### 6.4 学生删除流程
```
前端 → 点击删除 → 确认对话框 → 
调用deleteApi → 后端Controller → Service → 
Mapper → 删除数据库记录 → 返回Result → 
前端刷新列表
```

---

## 7. 部署架构

### 7.1 开发环境
- 前端：Vite开发服务器（默认端口5173）
- 后端：Spring Boot内嵌Tomcat（默认端口8080）
- 数据库：MySQL本地实例（默认端口3306）
- 前端通过代理转发API请求到后端

### 7.2 生产环境（建议）
- 前端：Nginx静态服务器
- 后端：Tomcat或Spring Boot JAR包
- 数据库：MySQL主从复制或集群
- 反向代理：Nginx

---

## 8. 性能优化

### 8.1 前端优化
- 使用Vite进行快速构建
- 组件懒加载
- 路由懒加载
- 资源压缩

### 8.2 后端优化
- MyBatis二级缓存
- 数据库索引优化
- SQL语句优化
- 分页查询避免全表扫描

### 8.3 数据库优化
- 合理设计索引
- 使用连接池
- 读写分离（可扩展）

---

## 9. 安全性设计

### 9.1 数据安全
- 数据库密码配置文件管理
- SQL注入防护（MyBatis预编译）
- XSS防护（前端转义）

### 9.2 接口安全
- 可扩展Token认证
- 可扩展权限控制
- 可扩展HTTPS加密

---

## 10. 扩展性设计

### 10.1 模块化设计
- 前后端模块分离
- 业务逻辑分层
- 接口与实现分离

### 10.2 可扩展功能
- 用户登录与权限管理
- 数据导入导出
- 数据统计与报表
- 日志记录与审计

---

## 11. 技术难点与解决方案

### 11.1 前后端数据交互
- **难点**: 跨域问题、数据格式统一
- **解决**: Vite代理配置、统一Result响应格式

### 11.2 分页查询性能
- **难点**: 大数据量分页性能
- **解决**: PageHelper物理分页、数据库索引优化

### 11.3 表单验证
- **难点**: 前后端验证一致性
- **解决**: 前端Element Plus验证、后端可扩展Validation API

---

## 12. 附录

### 12.1 端口配置
- 前端开发服务器：5173
- 后端API服务：8080
- 数据库：3306

### 12.2 环境要求
- JDK 25
- Node.js 20.19.0 或 22.12.0+
- MySQL 8.0+
- Maven 3.6+

### 12.3 参考文档
- [Spring Boot官方文档](https://spring.io/projects/spring-boot)
- [Vue.js官方文档](https://vuejs.org/)
- [Element Plus官方文档](https://element-plus.org/)
- [MyBatis官方文档](https://mybatis.org/)
- [Vite官方文档](https://vitejs.dev/)
